{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\final_4market_frontend\\\\src\\\\components\\\\subPage\\\\SubPayment.jsx\";\n// Payment.jsx\nimport axios from 'axios';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Payment = ({\n  buyMethod,\n  productNo\n}) => {\n  const onClickPayment = async () => {\n    /* 1. 가맹점 식별하기 */\n    const {\n      IMP\n    } = window;\n    IMP.init('imp51217870');\n    console.log(buyMethod);\n    /* 2. 결제 데이터 정의하기 */\n    const data = {\n      pg: buyMethod,\n      // PG사\n      pay_method: 'card',\n      // 결제수단\n      merchant_uid: `mid_${new Date().getTime()}`,\n      // 주문번호\n      amount: 100,\n      // 결제금액\n      name: '아임포트 결제 데이터 분석',\n      // 주문명\n      buyer_name: '홍길동',\n      // 구매자 이름\n      buyer_tel: '01012341234',\n      // 구매자 전화번호\n      buyer_email: 'example@example',\n      // 구매자 이메일\n      buyer_addr: '신사동 661-16',\n      // 구매자 주소\n      buyer_postcode: '06018' // 구매자 우편번호\n    };\n    /* 4. 결제 창 호출하기 */\n    IMP.request_pay(data, async function (response) {\n      if (response.success) {\n        //결제 성공\n        try {\n          const response = await axios.put(`http://localhost:9999/updateProductSaleSatus?productNo=${productNo}`);\n          // console.log(response);       \n          alert(response.data.msg);\n          window.location.reload();\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        alert('결제실패 : ' + response.error_msg);\n        window.location.reload();\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: onClickPayment,\n    children: \"\\uACB0\\uC81C\\uD558\\uAE30\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_c = Payment;\nexport default Payment;\nvar _c;\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"names":["axios","React","jsxDEV","_jsxDEV","Payment","buyMethod","productNo","onClickPayment","IMP","window","init","console","log","data","pg","pay_method","merchant_uid","Date","getTime","amount","name","buyer_name","buyer_tel","buyer_email","buyer_addr","buyer_postcode","request_pay","response","success","put","alert","msg","location","reload","error","error_msg","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/workspace/final_4market_frontend/src/components/subPage/SubPayment.jsx"],"sourcesContent":["// Payment.jsx\r\nimport axios from 'axios';\r\nimport React from 'react';\r\n\r\nconst Payment = ({buyMethod, productNo}) => {\r\n\r\n  const onClickPayment = async () => {\r\n    /* 1. 가맹점 식별하기 */\r\n    const { IMP } = window;\r\n    IMP.init('imp51217870');\r\n    console.log(buyMethod);\r\n    /* 2. 결제 데이터 정의하기 */\r\n    const data = {\r\n      pg: buyMethod,                           // PG사\r\n      pay_method: 'card',                           // 결제수단\r\n      merchant_uid: `mid_${new Date().getTime()}`,   // 주문번호\r\n      amount: 100,                                 // 결제금액\r\n      name: '아임포트 결제 데이터 분석',                  // 주문명\r\n      buyer_name: '홍길동',                           // 구매자 이름\r\n      buyer_tel: '01012341234',                     // 구매자 전화번호\r\n      buyer_email: 'example@example',               // 구매자 이메일\r\n      buyer_addr: '신사동 661-16',                    // 구매자 주소\r\n      buyer_postcode: '06018',                      // 구매자 우편번호\r\n    };\r\n    /* 4. 결제 창 호출하기 */\r\n    IMP.request_pay(data, async function(response){\r\n      if ( response.success ) { //결제 성공\r\n        try {\r\n          const response = await axios.put(`http://localhost:9999/updateProductSaleSatus?productNo=${productNo}`);\r\n          // console.log(response);       \r\n          alert(response.data.msg);\r\n          window.location.reload();\r\n        } catch (error) {\r\n          console.log(error);\r\n        }    \r\n      } else {\r\n        alert('결제실패 : ' + response.error_msg);\r\n        window.location.reload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <button onClick={onClickPayment}>결제하기</button>\r\n  );\r\n};\r\n\r\nexport default Payment;\r\n"],"mappings":";AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,OAAO,GAAGA,CAAC;EAACC,SAAS;EAAEC;AAAS,CAAC,KAAK;EAE1C,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC;IACA,MAAM;MAAEC;IAAI,CAAC,GAAGC,MAAM;IACtBD,GAAG,CAACE,IAAI,CAAC,aAAa,CAAC;IACvBC,OAAO,CAACC,GAAG,CAACP,SAAS,CAAC;IACtB;IACA,MAAMQ,IAAI,GAAG;MACXC,EAAE,EAAET,SAAS;MAA4B;MACzCU,UAAU,EAAE,MAAM;MAA4B;MAC9CC,YAAY,EAAE,OAAO,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,EAAE;MAAI;MAC/CC,MAAM,EAAE,GAAG;MAAkC;MAC7CC,IAAI,EAAE,gBAAgB;MAAmB;MACzCC,UAAU,EAAE,KAAK;MAA4B;MAC7CC,SAAS,EAAE,aAAa;MAAsB;MAC9CC,WAAW,EAAE,iBAAiB;MAAgB;MAC9CC,UAAU,EAAE,YAAY;MAAqB;MAC7CC,cAAc,EAAE,OAAO,CAAuB;IAChD,CAAC;IACD;IACAjB,GAAG,CAACkB,WAAW,CAACb,IAAI,EAAE,gBAAec,QAAQ,EAAC;MAC5C,IAAKA,QAAQ,CAACC,OAAO,EAAG;QAAE;QACxB,IAAI;UACF,MAAMD,QAAQ,GAAG,MAAM3B,KAAK,CAAC6B,GAAG,CAAC,0DAA0DvB,SAAS,EAAE,CAAC;UACvG;UACAwB,KAAK,CAACH,QAAQ,CAACd,IAAI,CAACkB,GAAG,CAAC;UACxBtB,MAAM,CAACuB,QAAQ,CAACC,MAAM,CAAC,CAAC;QAC1B,CAAC,CAAC,OAAOC,KAAK,EAAE;UACdvB,OAAO,CAACC,GAAG,CAACsB,KAAK,CAAC;QACpB;MACF,CAAC,MAAM;QACLJ,KAAK,CAAC,SAAS,GAAGH,QAAQ,CAACQ,SAAS,CAAC;QACrC1B,MAAM,CAACuB,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC1B;IACF,CAAC,CAAC;EACJ,CAAC;EAED,oBACE9B,OAAA;IAAQiC,OAAO,EAAE7B,cAAe;IAAA8B,QAAA,EAAC;EAAI;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAQ,CAAC;AAElD,CAAC;AAACC,EAAA,GAzCItC,OAAO;AA2Cb,eAAeA,OAAO;AAAC,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}