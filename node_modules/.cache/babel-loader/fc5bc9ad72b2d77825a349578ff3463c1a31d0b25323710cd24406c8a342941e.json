{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import ProductInfo from'./SubProductInfo';import StoreInfo from'./SubSellerInfo';import styles from'./css/SubImageSlider.module.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function ImageSlider(){const[productImg,setProductImg]=useState([]);const[productInfo,setProductInfo]=useState([]);useEffect(()=>{let currentIndex=0;// 현재 보이는 이미지\nconst sliderCount=productImg.length;// 이미지 갯수\nconst sliderMove=document.querySelector(\".\".concat(styles.productMainImg));const sliderBtn=document.querySelectorAll(\".\".concat(styles.arrow,\" a\"));function moveSlider(num){sliderMove.style.transition=\"all 400ms\";sliderMove.style.transform=\"translateX(\".concat(-500*num,\"px)\");currentIndex=num;let dotActive=document.querySelectorAll(\".\".concat(styles.sliderDot,\" .\").concat(styles.dot));dotActive.forEach(active=>active.classList.remove(styles.active));dotActive[num].classList.add(styles.active);}function handlePrev(e){e.preventDefault();let prevIndex=(currentIndex+sliderCount-1)%sliderCount;moveSlider(prevIndex);}function handleNext(e){e.preventDefault();let nextIndex=(currentIndex+1)%sliderCount;moveSlider(nextIndex);}sliderBtn.forEach(btn=>{if(btn.classList.contains(\"prev\")){btn.onclick=handlePrev;}else{btn.onclick=handleNext;}});},[productImg]);useEffect(()=>{const productImage=async()=>{try{const productResponse=await axios.get('http://localhost:9999/api/product/productInfo?productNo=20');setProductInfo(productResponse.data);const response=await axios.get('http://localhost:9999/api/product/productImage?productNo=20');setProductImg(response.data);}catch(error){console.error(error);}};productImage();},[]);const imageStyle=productInfo.productSale==='판매중'?true:false;const imageClass=imageStyle?'':styles.imageSale;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.hrContainer,children:/*#__PURE__*/_jsx(\"hr\",{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.subPageContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.subPageMain,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.slideContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.productMainImgContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.productMainImgMove,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.productMainImg,children:[productImg.map((img,index)=>/*#__PURE__*/_jsx(\"img\",{src:img.productImagePath,alt:\"Product \".concat(index),className:imageClass},index)),!imageStyle&&/*#__PURE__*/_jsx(\"p\",{className:styles.productSaleStatus,children:\"\\uD310\\uB9E4\\uC644\\uB8CC\"})]})}),productImg.length>1&&imageStyle&&/*#__PURE__*/_jsxs(\"div\",{className:styles.arrow,children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:styles.prev,children:/*#__PURE__*/_jsx(\"img\",{src:\"/img/left.png\",className:styles.leftArrow,alt:\"Previous\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:styles.next,children:/*#__PURE__*/_jsx(\"img\",{src:\"/img/right.png\",className:styles.rightArrow,alt:\"Next\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.sliderDot,children:imageStyle&&productImg.map((_,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(styles.dot,\" \").concat(index===0?styles.active:'')},index))})]})}),/*#__PURE__*/_jsx(ProductInfo,{productImage:productImg[0]}),/*#__PURE__*/_jsx(StoreInfo,{})]})})]});}","map":{"version":3,"names":["axios","React","useEffect","useState","ProductInfo","StoreInfo","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImageSlider","productImg","setProductImg","productInfo","setProductInfo","currentIndex","sliderCount","length","sliderMove","document","querySelector","concat","productMainImg","sliderBtn","querySelectorAll","arrow","moveSlider","num","style","transition","transform","dotActive","sliderDot","dot","forEach","active","classList","remove","add","handlePrev","e","preventDefault","prevIndex","handleNext","nextIndex","btn","contains","onclick","productImage","productResponse","get","data","response","error","console","imageStyle","productSale","imageClass","imageSale","children","className","hrContainer","subPageContainer","subPageMain","slideContainer","productMainImgContainer","productMainImgMove","map","img","index","src","productImagePath","alt","productSaleStatus","href","prev","leftArrow","next","rightArrow","_"],"sources":["D:/workspace/final_4market_frontend/src/components/subPage/SubImageSlider.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ProductInfo from './SubProductInfo';\r\nimport StoreInfo from './SubSellerInfo';\r\nimport styles from './css/SubImageSlider.module.css';\r\n\r\nexport default function ImageSlider() {\r\n  const [productImg, setProductImg] = useState([]);\r\n  const [productInfo, setProductInfo] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let currentIndex = 0; // 현재 보이는 이미지\r\n    const sliderCount = productImg.length; // 이미지 갯수\r\n    const sliderMove = document.querySelector(`.${styles.productMainImg}`);\r\n    const sliderBtn = document.querySelectorAll(`.${styles.arrow} a`);\r\n\r\n    function moveSlider(num) {\r\n      sliderMove.style.transition = \"all 400ms\";\r\n      sliderMove.style.transform = `translateX(${-500 * num}px)`;\r\n      currentIndex = num;\r\n\r\n      let dotActive = document.querySelectorAll(`.${styles.sliderDot} .${styles.dot}`);\r\n      dotActive.forEach((active) => active.classList.remove(styles.active));\r\n      dotActive[num].classList.add(styles.active);\r\n    }\r\n\r\n    function handlePrev(e) {\r\n      e.preventDefault();\r\n      let prevIndex = (currentIndex + sliderCount - 1) % sliderCount;\r\n      moveSlider(prevIndex);\r\n    }\r\n\r\n    function handleNext(e) {\r\n      e.preventDefault();\r\n      let nextIndex = (currentIndex + 1) % sliderCount;\r\n      moveSlider(nextIndex);\r\n    }\r\n\r\n    sliderBtn.forEach((btn) => {\r\n      if (btn.classList.contains(\"prev\")) {\r\n        btn.onclick = handlePrev;\r\n      } else {\r\n        btn.onclick = handleNext;\r\n      }\r\n    });\r\n\r\n  }, [productImg]);\r\n\r\n  useEffect(() => {\r\n    const productImage = async () => {\r\n      try {\r\n        const productResponse = await axios.get('http://localhost:9999/api/product/productInfo?productNo=20');\r\n        setProductInfo(productResponse.data);\r\n        const response = await axios.get('http://localhost:9999/api/product/productImage?productNo=20');\r\n        setProductImg(response.data);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    productImage();\r\n  }, []);\r\n  const imageStyle = productInfo.productSale === '판매중' ? true : false;\r\n  const imageClass = imageStyle ? '' : styles.imageSale\r\n  return (\r\n    <>\r\n      <div className={styles.hrContainer}>\r\n        <hr />\r\n      </div>\r\n      <div className={styles.subPageContainer}>\r\n        <div className={styles.subPageMain}>\r\n          <div className={styles.slideContainer}>\r\n            <div className={styles.productMainImgContainer}>\r\n              <div className={styles.productMainImgMove}>\r\n                <div className={styles.productMainImg}>\r\n                  {productImg.map((img, index) => (\r\n                    <img key={index} src={img.productImagePath} alt={`Product ${index}`} className={imageClass} />\r\n                  ))}\r\n                  {!imageStyle &&\r\n                    <p className={styles.productSaleStatus}>판매완료</p>\r\n                  }\r\n                </div>\r\n              </div>\r\n              {productImg.length > 1 && imageStyle &&\r\n                <div className={styles.arrow}>\r\n                  <a href=\"#\" className={styles.prev}>\r\n                    <img src=\"/img/left.png\" className={styles.leftArrow} alt=\"Previous\" />\r\n                  </a>\r\n                  <a href=\"#\" className={styles.next}>\r\n                    <img src=\"/img/right.png\" className={styles.rightArrow} alt=\"Next\" />\r\n                  </a>\r\n                </div>\r\n              }\r\n              <div className={styles.sliderDot}>\r\n                {imageStyle && productImg.map((_, index) => (\r\n                  <span key={index} className={`${styles.dot} ${index === 0 ? styles.active : ''}`}></span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ProductInfo productImage={productImg[0]} />\r\n          <StoreInfo />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}