{"ast":null,"code":"import React,{useState}from'react';import styles from'./css/ProductImageUpload.module.css';import ProductinsertPopup from'./ProductinsertPopup';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductImageUpload=()=>{const[imagePreviews,setImagePreviews]=useState([]);const[popup,setPopup]=useState({show:false,message:'',isConfirmation:false});const handleFileChange=event=>{const files=Array.from(event.target.files);if(files.length+imagePreviews.length>3){setPopup({show:true,message:\"상품 사진은 최대 3개까지 가능합니다.\"});return;}files.forEach(file=>{const reader=new FileReader();reader.onloadend=()=>{setImagePreviews(prev=>[...prev,{src:reader.result,name:file.name}]);};reader.readAsDataURL(file);});};const removeImage=index=>{setImagePreviews(prev=>prev.filter((_,i)=>i!==index));};return/*#__PURE__*/_jsxs(\"div\",{className:styles.productImageUpload,children:[imagePreviews.length<4&&/*#__PURE__*/_jsxs(\"div\",{className:styles.productImageUploadimage,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",id:\"fileUpload\",multiple:true,onChange:handleFileChange,className:styles.fileInput}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fileUpload\",className:styles.fileUploadButton}),/*#__PURE__*/_jsxs(\"span\",{className:styles.uploadCount,children:[imagePreviews.length,\"/3\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.imagePreviewContainer,children:imagePreviews.map((preview,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.imagePreview,children:[/*#__PURE__*/_jsx(\"img\",{src:preview.src,alt:\"Preview \".concat(index)}),/*#__PURE__*/_jsx(\"span\",{className:styles.removeImage,onClick:()=>removeImage(index),children:\"\\xD7\"})]},index))}),/*#__PURE__*/_jsx(ProductinsertPopup,{show:popup.show,onClose:()=>setPopup({...popup,show:false}),message:popup.message,isConfirmation:popup.isConfirmation})]});};export default ProductImageUpload;","map":{"version":3,"names":["React","useState","styles","ProductinsertPopup","jsx","_jsx","jsxs","_jsxs","ProductImageUpload","imagePreviews","setImagePreviews","popup","setPopup","show","message","isConfirmation","handleFileChange","event","files","Array","from","target","length","forEach","file","reader","FileReader","onloadend","prev","src","result","name","readAsDataURL","removeImage","index","filter","_","i","className","productImageUpload","children","productImageUploadimage","type","id","multiple","onChange","fileInput","htmlFor","fileUploadButton","uploadCount","imagePreviewContainer","map","preview","imagePreview","alt","concat","onClick","onClose"],"sources":["D:/workspace/final_4market_frontend/src/components/productRegistration/ProductImageUpload.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport styles from './css/ProductImageUpload.module.css';\r\nimport ProductinsertPopup from './ProductinsertPopup';\r\n\r\nconst ProductImageUpload = () => {\r\n  const [imagePreviews, setImagePreviews] = useState([]);\r\n\r\n\r\n  const [popup, setPopup] = useState({\r\n    show: false,\r\n    message: '',\r\n    isConfirmation: false,\r\n  });\r\n\r\n  const handleFileChange = (event) => {\r\n    const files = Array.from(event.target.files);\r\n    if (files.length + imagePreviews.length > 3) {\r\n      setPopup({\r\n        show: true,\r\n        message: \"상품 사진은 최대 3개까지 가능합니다.\"\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    files.forEach(file => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreviews(prev => [...prev, { src: reader.result, name: file.name }]);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    setImagePreviews(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.productImageUpload}>\r\n      {imagePreviews.length < 4 && (\r\n        <div className={styles.productImageUploadimage}>\r\n          <input\r\n            type=\"file\"\r\n            name=\"file\"\r\n            id=\"fileUpload\"\r\n            multiple\r\n            onChange={handleFileChange}\r\n            className={styles.fileInput}\r\n          />\r\n          <label htmlFor=\"fileUpload\" className={styles.fileUploadButton}></label>\r\n          <span className={styles.uploadCount}>{imagePreviews.length}/3</span>\r\n        </div>\r\n      )}\r\n      <div className={styles.imagePreviewContainer}>\r\n        {imagePreviews.map((preview, index) => (\r\n          <div key={index} className={styles.imagePreview}>\r\n            <img src={preview.src} alt={`Preview ${index}`} />\r\n            <span className={styles.removeImage} onClick={() => removeImage(index)}>&times;</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <ProductinsertPopup\r\n        show={popup.show}\r\n        onClose={() => setPopup({ ...popup, show: false })}\r\n        message={popup.message}\r\n        isConfirmation={popup.isConfirmation}\r\n      />\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default ProductImageUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}