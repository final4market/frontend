{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\final_4market_frontend\\\\src\\\\components\\\\subPage\\\\SubReport.jsx\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useState } from 'react';\nimport styles from './css/Sub_productInfo.module.css';\nimport Backdrop from './SubOverlay';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Report = ({\n  isReportOpen,\n  onClose\n}) => {\n  _s();\n  const [expanded, setExpanded] = useState(null); // 단일 섹션만 열리도록 상태 변경\n  const [reportContents, setReportContents] = useState({\n    ad: '',\n    inaccurate: '',\n    prohibited: '',\n    scam: '',\n    other: ''\n  });\n\n  // 텍스트 영역 표시 상태를 토글하는 함수\n  const toggleExpansion = type => {\n    setExpanded(prevState => prevState === type ? null : type); // 현재 열려 있는 섹션이 클릭되면 닫기, 그렇지 않으면 새 섹션 열기\n  };\n\n  // 텍스트 영역 내용 변경 핸들러\n  const handleContentChange = (type, value) => {\n    setReportContents(prevState => ({\n      ...prevState,\n      [type]: value\n    }));\n  };\n  // console.log(reportContents);\n  const submitReport = async type => {\n    // 유형에 따른 문구를 반환하는 함수\n    const getTypeText = type => {\n      const typeText = {\n        ad: '광고성 상점이에요.',\n        inaccurate: '상품 정보가 부정확해요.',\n        prohibited: '거래 금지 품목으로 판단돼요.',\n        scam: '사기가 의심돼요.',\n        other: '기타'\n      };\n      return typeText[type] || '기타';\n    };\n    const typeText = getTypeText(type);\n    // console.log(typeText);\n\n    try {\n      // axios 요청에 params로 전달\n      const response = await axios.post('http://localhost:9999/insertReport', {\n        productNo: '10',\n        claimerId: 'member10',\n        sellerId: 'member4',\n        reportContent: `[${typeText}] ${reportContents[type]}` // 타입에 따른 문구와 내용을 결합\n      });\n\n      // 요청이 성공적으로 완료되면 처리할 로직\n      alert(response.data.msg);\n      onClose();\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Backdrop, {\n      show: isReportOpen,\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), isReportOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.report_container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.report,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uC2E0\\uACE0\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.close,\n          onClick: onClose,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/img/x.png\",\n            alt: \"close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), ['ad', 'inaccurate', 'prohibited', 'scam', 'other'].map(type => /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${styles.detailReport} ${expanded === type ? styles.expandable : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: type === 'ad' ? '광고성 상점이에요.' : type === 'inaccurate' ? '상품 정보가 부정확해요.' : type === 'prohibited' ? '거래 금지 품목으로 판단돼요.' : type === 'scam' ? '사기가 의심돼요.' : '기타'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: expanded === type ? '/img/report_click_arrow.png' : '/img/report_arrow.png',\n              alt: \"arrow\",\n              className: styles.report_height,\n              onClick: () => toggleExpansion(type)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), expanded === type && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: reportContents[type],\n                onChange: e => handleContentChange(type, e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: styles.reportSubmit,\n                onClick: () => submitReport(type),\n                children: \"\\uB4F1\\uB85D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this)]\n        }, type, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Report, \"0UKyKlByD9M9lXzlcnZhwbFxqU8=\");\n_c = Report;\nexport default Report;\nvar _c;\n$RefreshReg$(_c, \"Report\");","map":{"version":3,"names":["React","Fragment","useState","styles","Backdrop","axios","jsxDEV","_jsxDEV","_Fragment","Report","isReportOpen","onClose","_s","expanded","setExpanded","reportContents","setReportContents","ad","inaccurate","prohibited","scam","other","toggleExpansion","type","prevState","handleContentChange","value","submitReport","getTypeText","typeText","response","post","productNo","claimerId","sellerId","reportContent","alert","data","msg","error","console","children","show","onClick","fileName","_jsxFileName","lineNumber","columnNumber","className","report_container","report","close","src","alt","map","detailReport","expandable","report_height","onChange","e","target","reportSubmit","_c","$RefreshReg$"],"sources":["D:/workspace/final_4market_frontend/src/components/subPage/SubReport.jsx"],"sourcesContent":["import React, { Fragment, useState } from 'react';\r\nimport styles from './css/Sub_productInfo.module.css';\r\nimport Backdrop from './SubOverlay';\r\nimport axios from 'axios';\r\n\r\nconst Report = ({ isReportOpen, onClose }) => {\r\n  const [expanded, setExpanded] = useState(null); // 단일 섹션만 열리도록 상태 변경\r\n  const [reportContents, setReportContents] = useState({\r\n    ad: '',\r\n    inaccurate: '',\r\n    prohibited: '',\r\n    scam: '',\r\n    other: ''\r\n  });\r\n\r\n  // 텍스트 영역 표시 상태를 토글하는 함수\r\n  const toggleExpansion = (type) => {\r\n    setExpanded(prevState => prevState === type ? null : type); // 현재 열려 있는 섹션이 클릭되면 닫기, 그렇지 않으면 새 섹션 열기\r\n  };\r\n\r\n  // 텍스트 영역 내용 변경 핸들러\r\n  const handleContentChange = (type, value) => {\r\n    setReportContents(prevState => ({\r\n      ...prevState,\r\n      [type]: value\r\n    }));\r\n  };\r\n  // console.log(reportContents);\r\n  const submitReport = async (type) => {\r\n    // 유형에 따른 문구를 반환하는 함수\r\n    const getTypeText = (type) => {\r\n      const typeText = {\r\n        ad: '광고성 상점이에요.',\r\n        inaccurate: '상품 정보가 부정확해요.',\r\n        prohibited: '거래 금지 품목으로 판단돼요.',\r\n        scam: '사기가 의심돼요.',\r\n        other: '기타'\r\n      };\r\n      return typeText[type] || '기타';\r\n    };\r\n    const typeText = getTypeText(type);\r\n    // console.log(typeText);\r\n\r\n    try {\r\n      // axios 요청에 params로 전달\r\n      const response = await axios.post('http://localhost:9999/insertReport', {\r\n        productNo: '10',\r\n        claimerId: 'member10',\r\n        sellerId: 'member4',\r\n        reportContent: `[${typeText}] ${reportContents[type]}` // 타입에 따른 문구와 내용을 결합\r\n      });\r\n\r\n      // 요청이 성공적으로 완료되면 처리할 로직\r\n      alert(response.data.msg);\r\n      onClose();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Backdrop\r\n        show={isReportOpen}\r\n        onClick={onClose}\r\n      />\r\n      {isReportOpen && (\r\n        <div className={styles.report_container}>\r\n          <div className={styles.report}>\r\n            <h2>신고하기</h2>\r\n            <span className={styles.close} onClick={onClose}>\r\n              <img src=\"/img/x.png\" alt=\"close\" />\r\n            </span>\r\n            <hr />\r\n            {['ad', 'inaccurate', 'prohibited', 'scam', 'other'].map(type => (\r\n              <Fragment key={type}>\r\n                <div className={`${styles.detailReport} ${expanded === type ? styles.expandable : ''}`}>\r\n                  <p>{type === 'ad' ? '광고성 상점이에요.' :\r\n                    type === 'inaccurate' ? '상품 정보가 부정확해요.' :\r\n                      type === 'prohibited' ? '거래 금지 품목으로 판단돼요.' :\r\n                        type === 'scam' ? '사기가 의심돼요.' : '기타'}</p>\r\n                  <img\r\n                    src={expanded === type ? '/img/report_click_arrow.png' : '/img/report_arrow.png'}\r\n                    alt=\"arrow\"\r\n                    className={styles.report_height}\r\n                    onClick={() => toggleExpansion(type)}\r\n                  />\r\n                  {expanded === type && (\r\n                    <>\r\n                      <textarea\r\n                        value={reportContents[type]}\r\n                        onChange={(e) => handleContentChange(type, e.target.value)}\r\n                      ></textarea>\r\n                      <button className={styles.reportSubmit} onClick={() => submitReport(type)}>등록</button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n                <hr />\r\n              </Fragment>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Report;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}