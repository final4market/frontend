{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\final_4market_frontend\\\\src\\\\components\\\\productRegistration\\\\CategorySelector.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport styles from './css/CategorySelector.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CategorySelector = ({\n  onCategoryChange,\n  onParentChange\n}) => {\n  _s();\n  const [parentNumberOptions, setParentNumberOptions] = useState([]);\n  const [productCategoryList, setProductCategoryList] = useState([]);\n  const [parentNumber, setParentNumber] = useState('1');\n  const [selectedParent, setSelectedParent] = useState('카테고리를 선택하세요');\n  const [selectedCategory, setSelectedCategory] = useState('카테고리를 선택하세요');\n  const [isSecondDropdownVisible, setIsSecondDropdownVisible] = useState(false);\n  useEffect(() => {\n    const fetchParentNumbers = async () => {\n      try {\n        const response = await axios.get('http://localhost:9999/category/list');\n        setParentNumberOptions(response.data);\n      } catch (error) {\n        console.error('Error fetching parent number options:', error);\n      }\n    };\n    fetchParentNumbers();\n  }, []);\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const response = await axios.get(`http://localhost:9999/category/list/${parentNumber}`);\n        setProductCategoryList(response.data);\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n      }\n    };\n    fetchCategories();\n  }, [parentNumber]);\n  const handleParentChange = option => {\n    setParentNumber(option.categoryNo);\n    setSelectedParent(option.categoryName);\n    setIsSecondDropdownVisible(true);\n    onParentChange(option.categoryNo);\n  };\n  const handleCategoryChange = option => {\n    setSelectedCategory(option.categoryName);\n    onCategoryChange(option.categoryNo);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.category,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.customDropdown,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.dropdownHeader,\n        children: selectedParent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: styles.dropdownList,\n        children: parentNumberOptions.map(option => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => handleParentChange(option),\n          className: `${styles.dropdownItem} ${parentNumber === option.categoryNo ? styles.selectedItem : ''}`,\n          children: option.categoryName\n        }, option.categoryNo, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), isSecondDropdownVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.customDropdown,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.dropdownHeader,\n        children: selectedCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: styles.dropdownList,\n        children: productCategoryList.map(option => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => handleCategoryChange(option),\n          className: `${styles.dropdownItem} ${selectedCategory === option.categoryName ? styles.selectedItem : ''}`,\n          children: option.categoryName\n        }, option.categoryNo, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(CategorySelector, \"fr4kCi04sDlYbf5UssBXX8qRL9c=\");\n_c = CategorySelector;\nexport default CategorySelector;\nvar _c;\n$RefreshReg$(_c, \"CategorySelector\");","map":{"version":3,"names":["React","useState","useEffect","axios","styles","jsxDEV","_jsxDEV","CategorySelector","onCategoryChange","onParentChange","_s","parentNumberOptions","setParentNumberOptions","productCategoryList","setProductCategoryList","parentNumber","setParentNumber","selectedParent","setSelectedParent","selectedCategory","setSelectedCategory","isSecondDropdownVisible","setIsSecondDropdownVisible","fetchParentNumbers","response","get","data","error","console","fetchCategories","handleParentChange","option","categoryNo","categoryName","handleCategoryChange","className","category","children","customDropdown","dropdownHeader","fileName","_jsxFileName","lineNumber","columnNumber","dropdownList","map","onClick","dropdownItem","selectedItem","_c","$RefreshReg$"],"sources":["D:/workspace/final_4market_frontend/src/components/productRegistration/CategorySelector.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport styles from './css/CategorySelector.module.css';\r\n\r\nconst CategorySelector = ({ onCategoryChange, onParentChange }) => {\r\n    const [parentNumberOptions, setParentNumberOptions] = useState([]);\r\n    const [productCategoryList, setProductCategoryList] = useState([]);\r\n    const [parentNumber, setParentNumber] = useState('1');\r\n    const [selectedParent, setSelectedParent] = useState('카테고리를 선택하세요');\r\n    const [selectedCategory, setSelectedCategory] = useState('카테고리를 선택하세요');\r\n    const [isSecondDropdownVisible, setIsSecondDropdownVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n        const fetchParentNumbers = async () => {\r\n            try {\r\n                const response = await axios.get('http://localhost:9999/category/list');\r\n                setParentNumberOptions(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching parent number options:', error);\r\n            }\r\n        };\r\n        fetchParentNumbers();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const fetchCategories = async () => {\r\n            try {\r\n                const response = await axios.get(`http://localhost:9999/category/list/${parentNumber}`);\r\n                setProductCategoryList(response.data);\r\n            } catch (error) {\r\n                console.error('Error fetching categories:', error);\r\n            }\r\n        };\r\n        fetchCategories();\r\n    }, [parentNumber]);\r\n\r\n    const handleParentChange = (option) => {\r\n        setParentNumber(option.categoryNo);\r\n        setSelectedParent(option.categoryName);\r\n        setIsSecondDropdownVisible(true);\r\n        onParentChange(option.categoryNo);\r\n    };\r\n\r\n    const handleCategoryChange = (option) => {\r\n        setSelectedCategory(option.categoryName);\r\n        onCategoryChange(option.categoryNo);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.category}>\r\n            <div className={styles.customDropdown}>\r\n                <div className={styles.dropdownHeader}>{selectedParent}</div>\r\n                <ul className={styles.dropdownList}>\r\n                    {parentNumberOptions.map((option) => (\r\n                        <li\r\n                            key={option.categoryNo}\r\n                            onClick={() => handleParentChange(option)}\r\n                            className={`${styles.dropdownItem} ${parentNumber === option.categoryNo ? styles.selectedItem : ''}`}\r\n                        >\r\n                            {option.categoryName}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n\r\n            {isSecondDropdownVisible && (\r\n                <div className={styles.customDropdown}>\r\n                    <div className={styles.dropdownHeader}>{selectedCategory}</div>\r\n                    <ul className={styles.dropdownList}>\r\n                        {productCategoryList.map((option) => (\r\n                            <li\r\n                                key={option.categoryNo}\r\n                                onClick={() => handleCategoryChange(option)}\r\n                                className={`${styles.dropdownItem} ${selectedCategory === option.categoryName ? styles.selectedItem : ''}`}\r\n                            >\r\n                                {option.categoryName}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CategorySelector;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}